<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>HashMap | Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="ğŸPUTä¸æ‰©å®¹æœºåˆ¶  put æµç¨‹ HashMap æ˜¯æ‡’æƒ°åˆ›å»ºæ•°ç»„çš„ï¼Œé¦–æ¬¡ä½¿ç”¨æ‰åˆ›å»ºæ•°ç»„  è®¡ç®—ç´¢å¼•ï¼ˆæ¡¶ä¸‹æ ‡ï¼‰  å¦‚æœæ¡¶ä¸‹æ ‡è¿˜æ²¡äººå ç”¨ï¼Œåˆ›å»ºNodeå ä½è¿”å›  å¦‚æœæ¡¶ä¸‹æ ‡å·²ç»æœ‰äººå ç”¨   å·²ç»æ˜¯ TreeNodeï¼Œèµ°çº¢é»‘æ ‘çš„æ·»åŠ æˆ–æ›´æ–°é€»è¾‘  æ˜¯æ™®é€š Nodeï¼Œèµ°é“¾è¡¨çš„æ·»åŠ æˆ–æ›´æ–°é€»è¾‘ï¼›å¦‚æœé“¾è¡¨é•¿åº¦è¶…è¿‡æ ‘åŒ–é˜ˆå€¼ï¼ˆæ•°ç»„æ€»å®¹é‡64ï¼Œé“¾è¡¨é•¿åº¦8ï¼‰ï¼Œèµ°æ ‘åŒ–é€»è¾‘   â€‹	7.è¿”å›å‰æ£€æŸ¥å®¹é‡æ˜¯å¦è¶…è¿‡é˜ˆå€¼ï¼ˆæ€»é•¿åº¦">
<meta property="og:type" content="article">
<meta property="og:title" content="HashMap">
<meta property="og:url" content="http://example.com/2023/08/16/HashMap/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="ğŸPUTä¸æ‰©å®¹æœºåˆ¶  put æµç¨‹ HashMap æ˜¯æ‡’æƒ°åˆ›å»ºæ•°ç»„çš„ï¼Œé¦–æ¬¡ä½¿ç”¨æ‰åˆ›å»ºæ•°ç»„  è®¡ç®—ç´¢å¼•ï¼ˆæ¡¶ä¸‹æ ‡ï¼‰  å¦‚æœæ¡¶ä¸‹æ ‡è¿˜æ²¡äººå ç”¨ï¼Œåˆ›å»ºNodeå ä½è¿”å›  å¦‚æœæ¡¶ä¸‹æ ‡å·²ç»æœ‰äººå ç”¨   å·²ç»æ˜¯ TreeNodeï¼Œèµ°çº¢é»‘æ ‘çš„æ·»åŠ æˆ–æ›´æ–°é€»è¾‘  æ˜¯æ™®é€š Nodeï¼Œèµ°é“¾è¡¨çš„æ·»åŠ æˆ–æ›´æ–°é€»è¾‘ï¼›å¦‚æœé“¾è¡¨é•¿åº¦è¶…è¿‡æ ‘åŒ–é˜ˆå€¼ï¼ˆæ•°ç»„æ€»å®¹é‡64ï¼Œé“¾è¡¨é•¿åº¦8ï¼‰ï¼Œèµ°æ ‘åŒ–é€»è¾‘   â€‹	7.è¿”å›å‰æ£€æŸ¥å®¹é‡æ˜¯å¦è¶…è¿‡é˜ˆå€¼ï¼ˆæ€»é•¿åº¦">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://example.com/img/23369/hashmap1.png">
<meta property="article:published_time" content="2023-08-16T14:49:13.000Z">
<meta property="article:modified_time" content="2023-10-09T15:22:46.000Z">
<meta property="article:author" content="John Doe">
<meta property="article:tag" content="JavaåŸºç¡€">
<meta property="article:tag" content="æ•°æ®ç»“æ„">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/img/23369/hashmap1.png">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<meta name="generator" content="Hexo 7.0.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="/atom.xml" title="RSS Feed"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="Search"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-HashMap" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/08/16/HashMap/" class="article-date">
  <time class="dt-published" datetime="2023-08-16T14:49:13.000Z" itemprop="datePublished">2023-08-16</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">æ•°æ®ç»“æ„</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="p-name article-title" itemprop="headline name">
      HashMap
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="ğŸPUTä¸æ‰©å®¹æœºåˆ¶"><a href="#ğŸPUTä¸æ‰©å®¹æœºåˆ¶" class="headerlink" title="ğŸPUTä¸æ‰©å®¹æœºåˆ¶"></a>ğŸPUTä¸æ‰©å®¹æœºåˆ¶</h2><img src="/img/23369/hashmap1.png" alt="hashmap1" style="zoom:80%;" />

<h3 id="put-æµç¨‹"><a href="#put-æµç¨‹" class="headerlink" title="put æµç¨‹"></a>put æµç¨‹</h3><ol>
<li><p>HashMap æ˜¯æ‡’æƒ°åˆ›å»ºæ•°ç»„çš„ï¼Œ<strong>é¦–æ¬¡ä½¿ç”¨æ‰åˆ›å»ºæ•°ç»„</strong></p>
</li>
<li><p>è®¡ç®—ç´¢å¼•ï¼ˆæ¡¶ä¸‹æ ‡ï¼‰</p>
</li>
<li><p>å¦‚æœæ¡¶ä¸‹æ ‡è¿˜æ²¡äººå ç”¨ï¼Œåˆ›å»ºNodeå ä½è¿”å›</p>
</li>
<li><p>å¦‚æœæ¡¶ä¸‹æ ‡å·²ç»æœ‰äººå ç”¨ </p>
</li>
<li><p>å·²ç»æ˜¯ TreeNodeï¼Œèµ°çº¢é»‘æ ‘çš„æ·»åŠ æˆ–æ›´æ–°é€»è¾‘</p>
</li>
<li><p>æ˜¯æ™®é€š Nodeï¼Œèµ°é“¾è¡¨çš„æ·»åŠ æˆ–æ›´æ–°é€»è¾‘ï¼›å¦‚æœé“¾è¡¨é•¿åº¦è¶…è¿‡æ ‘åŒ–é˜ˆå€¼ï¼ˆæ•°ç»„æ€»å®¹é‡64ï¼Œ<strong>é“¾è¡¨é•¿åº¦8</strong>ï¼‰ï¼Œèµ°æ ‘åŒ–é€»è¾‘</p>
</li>
</ol>
<p>â€‹	7.è¿”å›å‰æ£€æŸ¥å®¹é‡æ˜¯å¦è¶…è¿‡é˜ˆå€¼ï¼ˆ<strong>æ€»é•¿åº¦*æ‰©å®¹å› å­0.75</strong>ï¼‰ï¼Œä¸€æ—¦è¶…è¿‡è¿›è¡Œæ‰©å®¹ï¼ˆ<strong>æ•°ç»„*2</strong>ï¼‰</p>
<h3 id="æºç "><a href="#æºç " class="headerlink" title="æºç "></a>æºç </h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> V <span class="title function_">put</span><span class="params">(K key, V value)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> putVal(hash(key), key, value, <span class="literal">false</span>, <span class="literal">true</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç¬¬å››ä¸ªå‚æ•° onlyIfAbsent å¦‚æœæ˜¯ trueï¼Œé‚£ä¹ˆåªæœ‰åœ¨ä¸å­˜åœ¨è¯¥ key æ—¶æ‰ä¼šè¿›è¡Œ put æ“ä½œ</span></span><br><span class="line"><span class="comment">// ç¬¬äº”ä¸ªå‚æ•° evict è¿™é‡Œä¸å…³å¿ƒ</span></span><br><span class="line"><span class="keyword">final</span> V <span class="title function_">putVal</span><span class="params">(<span class="type">int</span> hash, K key, V value, <span class="type">boolean</span> onlyIfAbsent,</span></span><br><span class="line"><span class="params">               <span class="type">boolean</span> evict)</span> &#123;</span><br><span class="line">    Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; p; <span class="type">int</span> n, i;</span><br><span class="line">    <span class="comment">// ç¬¬ä¸€æ¬¡ put å€¼çš„æ—¶å€™ï¼Œä¼šè§¦å‘ä¸‹é¢çš„ resize()ï¼Œç±»ä¼¼ java7 çš„ç¬¬ä¸€æ¬¡ put ä¹Ÿè¦åˆå§‹åŒ–æ•°ç»„é•¿åº¦</span></span><br><span class="line">    <span class="comment">// ç¬¬ä¸€æ¬¡ resize å’Œåç»­çš„æ‰©å®¹æœ‰äº›ä¸ä¸€æ ·ï¼Œå› ä¸ºè¿™æ¬¡æ˜¯æ•°ç»„ä» null åˆå§‹åŒ–åˆ°é»˜è®¤çš„ 16 æˆ–è‡ªå®šä¹‰çš„åˆå§‹å®¹é‡</span></span><br><span class="line">    <span class="keyword">if</span> ((tab = table) == <span class="literal">null</span> || (n = tab.length) == <span class="number">0</span>)</span><br><span class="line">        n = (tab = resize()).length;</span><br><span class="line">    <span class="comment">// æ‰¾åˆ°å…·ä½“çš„æ•°ç»„ä¸‹æ ‡ï¼Œå¦‚æœæ­¤ä½ç½®æ²¡æœ‰å€¼ï¼Œé‚£ä¹ˆç›´æ¥åˆå§‹åŒ–ä¸€ä¸‹ Node å¹¶æ”¾ç½®åœ¨è¿™ä¸ªä½ç½®å°±å¯ä»¥äº†</span></span><br><span class="line">    <span class="keyword">if</span> ((p = tab[i = (n - <span class="number">1</span>) &amp; hash]) == <span class="literal">null</span>)</span><br><span class="line">        tab[i] = newNode(hash, key, value, <span class="literal">null</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">else</span> &#123;<span class="comment">// æ•°ç»„è¯¥ä½ç½®æœ‰æ•°æ®</span></span><br><span class="line">        Node&lt;K,V&gt; e; K k;</span><br><span class="line">        <span class="comment">// é¦–å…ˆï¼Œåˆ¤æ–­è¯¥ä½ç½®çš„ç¬¬ä¸€ä¸ªæ•°æ®å’Œæˆ‘ä»¬è¦æ’å…¥çš„æ•°æ®ï¼Œkey æ˜¯ä¸æ˜¯&quot;ç›¸ç­‰&quot;ï¼Œå¦‚æœæ˜¯ï¼Œå–å‡ºè¿™ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">        <span class="keyword">if</span> (p.hash == hash &amp;&amp;</span><br><span class="line">            ((k = p.key) == key || (key != <span class="literal">null</span> &amp;&amp; key.equals(k))))</span><br><span class="line">            e = p;</span><br><span class="line">        <span class="comment">// å¦‚æœè¯¥èŠ‚ç‚¹æ˜¯ä»£è¡¨çº¢é»‘æ ‘çš„èŠ‚ç‚¹ï¼Œè°ƒç”¨çº¢é»‘æ ‘çš„æ’å€¼æ–¹æ³•ï¼Œä¸å±•å¼€</span></span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (p <span class="keyword">instanceof</span> TreeNode)</span><br><span class="line">            e = ((TreeNode&lt;K,V&gt;)p).putTreeVal(<span class="built_in">this</span>, tab, hash, key, value);</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// åˆ°è¿™é‡Œï¼Œè¯´æ˜æ•°ç»„è¯¥ä½ç½®ä¸Šæ˜¯ä¸€ä¸ªé“¾è¡¨</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">binCount</span> <span class="operator">=</span> <span class="number">0</span>; ; ++binCount) &#123;</span><br><span class="line">                <span class="comment">// æ’å…¥åˆ°é“¾è¡¨çš„æœ€åé¢(Java7 æ˜¯æ’å…¥åˆ°é“¾è¡¨çš„æœ€å‰é¢)</span></span><br><span class="line">                <span class="keyword">if</span> ((e = p.next) == <span class="literal">null</span>) &#123;</span><br><span class="line">                    p.next = newNode(hash, key, value, <span class="literal">null</span>);</span><br><span class="line">                    <span class="comment">// TREEIFY_THRESHOLD ä¸º 8ï¼Œæ‰€ä»¥ï¼Œå¦‚æœæ–°æ’å…¥çš„å€¼æ˜¯é“¾è¡¨ä¸­çš„ç¬¬ 8 ä¸ª</span></span><br><span class="line">                    <span class="comment">// ä¼šè§¦å‘ä¸‹é¢çš„ treeifyBinï¼Œä¹Ÿå°±æ˜¯å°†é“¾è¡¨è½¬æ¢ä¸ºçº¢é»‘æ ‘</span></span><br><span class="line">                    <span class="keyword">if</span> (binCount &gt;= TREEIFY_THRESHOLD - <span class="number">1</span>) <span class="comment">// -1 for 1st</span></span><br><span class="line">                        treeifyBin(tab, hash);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// å¦‚æœåœ¨è¯¥é“¾è¡¨ä¸­æ‰¾åˆ°äº†&quot;ç›¸ç­‰&quot;çš„ key(== æˆ– equals)</span></span><br><span class="line">                <span class="keyword">if</span> (e.hash == hash &amp;&amp;</span><br><span class="line">                    ((k = e.key) == key || (key != <span class="literal">null</span> &amp;&amp; key.equals(k))))</span><br><span class="line">                    <span class="comment">// æ­¤æ—¶ breakï¼Œé‚£ä¹ˆ e ä¸ºé“¾è¡¨ä¸­[ä¸è¦æ’å…¥çš„æ–°å€¼çš„ key &quot;ç›¸ç­‰&quot;]çš„ node</span></span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                p = e;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// e!=null è¯´æ˜å­˜åœ¨æ—§å€¼çš„keyä¸è¦æ’å…¥çš„key&quot;ç›¸ç­‰&quot;</span></span><br><span class="line">        <span class="comment">// å¯¹äºæˆ‘ä»¬åˆ†æçš„putæ“ä½œï¼Œä¸‹é¢è¿™ä¸ª if å…¶å®å°±æ˜¯è¿›è¡Œ &quot;å€¼è¦†ç›–&quot;ï¼Œç„¶åè¿”å›æ—§å€¼</span></span><br><span class="line">        <span class="keyword">if</span> (e != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="type">V</span> <span class="variable">oldValue</span> <span class="operator">=</span> e.value;</span><br><span class="line">            <span class="keyword">if</span> (!onlyIfAbsent || oldValue == <span class="literal">null</span>)</span><br><span class="line">                e.value = value;</span><br><span class="line">            afterNodeAccess(e);</span><br><span class="line">            <span class="keyword">return</span> oldValue;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    ++modCount;</span><br><span class="line">    <span class="comment">// å¦‚æœ HashMap ç”±äºæ–°æ’å…¥è¿™ä¸ªå€¼å¯¼è‡´ size å·²ç»è¶…è¿‡äº†é˜ˆå€¼ï¼Œéœ€è¦è¿›è¡Œæ‰©å®¹</span></span><br><span class="line">    <span class="keyword">if</span> (++size &gt; threshold)</span><br><span class="line">        resize();</span><br><span class="line">    afterNodeInsertion(evict);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="1-7-ä¸-1-8-çš„åŒºåˆ«"><a href="#1-7-ä¸-1-8-çš„åŒºåˆ«" class="headerlink" title="1.7 ä¸ 1.8 çš„åŒºåˆ«"></a><strong>1.7 ä¸ 1.8 çš„åŒºåˆ«</strong></h3><ol>
<li>é“¾è¡¨æ’å…¥èŠ‚ç‚¹æ—¶ï¼Œ1.7 æ˜¯<strong>å¤´æ’æ³•</strong>ï¼Œ1.8 æ˜¯<strong>å°¾æ’æ³•</strong> </li>
<li>1.7 æ˜¯å¤§äºç­‰äºé˜ˆå€¼<strong>ä¸”æ²¡æœ‰ç©ºä½</strong>æ—¶æ‰æ‰©å®¹ï¼Œè€Œ 1.8 æ˜¯å¤§äºé˜ˆå€¼å°±æ‰©å®¹ </li>
<li>1.8 åœ¨æ‰©å®¹è®¡ç®— Node ç´¢å¼•æ—¶ï¼Œä¼šä¼˜åŒ–</li>
</ol>
<h3 id="æ‰©å®¹ï¼ˆåŠ è½½ï¼‰å› å­ä¸ºä½•é»˜è®¤æ˜¯-0-75f"><a href="#æ‰©å®¹ï¼ˆåŠ è½½ï¼‰å› å­ä¸ºä½•é»˜è®¤æ˜¯-0-75f" class="headerlink" title="æ‰©å®¹ï¼ˆåŠ è½½ï¼‰å› å­ä¸ºä½•é»˜è®¤æ˜¯ 0.75f"></a><strong>æ‰©å®¹ï¼ˆåŠ è½½ï¼‰å› å­ä¸ºä½•é»˜è®¤æ˜¯ 0.75f</strong></h3><ol>
<li><strong>åœ¨ç©ºé—´å ç”¨ä¸æŸ¥è¯¢æ—¶é—´ä¹‹é—´å–å¾—è¾ƒå¥½çš„æƒè¡¡</strong></li>
<li>å¤§äºè¿™ä¸ªå€¼ï¼Œç©ºé—´èŠ‚çœäº†ï¼Œä½†é“¾è¡¨å°±ä¼šæ¯”è¾ƒé•¿å½±å“æ€§èƒ½</li>
<li>å°äºè¿™ä¸ªå€¼ï¼Œå†²çªå‡å°‘äº†ï¼Œä½†æ‰©å®¹å°±ä¼šæ›´é¢‘ç¹ï¼Œç©ºé—´å ç”¨ä¹Ÿæ›´å¤š</li>
</ol>
<h2 id="ğŸæ ‘åŒ–ä¸é€€åŒ–"><a href="#ğŸæ ‘åŒ–ä¸é€€åŒ–" class="headerlink" title="ğŸæ ‘åŒ–ä¸é€€åŒ–"></a>ğŸæ ‘åŒ–ä¸é€€åŒ–</h2><h3 id="æ ‘åŒ–æ„ä¹‰"><a href="#æ ‘åŒ–æ„ä¹‰" class="headerlink" title="æ ‘åŒ–æ„ä¹‰"></a><strong>æ ‘åŒ–æ„ä¹‰</strong></h3><ul>
<li>çº¢é»‘æ ‘ç”¨ä»¥é¿å…Dosæ”»å‡»ï¼Œé˜²æ­¢é“¾è¡¨è¿‡é•¿å¯¼è‡´æ€§èƒ½ä¸‹é™ï¼Œ<strong>æ ‘åŒ–åº”å½“æ˜¯å¶ç„¶æƒ…å†µ</strong>ï¼Œæ˜¯ä¿åº•ç­–ç•¥</li>
<li>hash è¡¨çš„æŸ¥æ‰¾ã€æ›´æ–°çš„æ—¶é—´å¤æ‚åº¦æ˜¯ **O(1)**ï¼Œè€Œçº¢é»‘æ ‘çš„æŸ¥æ‰¾ï¼Œæ›´æ–°çš„æ—¶é—´å¤æ‚åº¦æ˜¯ <strong>O(log2â¡n )<strong>ï¼ŒTreeNode ï¼ˆçº¢é»‘æ ‘çš„æƒ…å†µï¼‰</strong>å ç”¨ç©ºé—´ä¹Ÿæ¯”æ™®é€š Node çš„å¤§</strong>ï¼Œå¦‚éå¿…è¦ï¼Œå°½é‡è¿˜æ˜¯ä½¿ç”¨é“¾è¡¨</li>
<li>hash å€¼å¦‚æœè¶³å¤Ÿéšæœºï¼Œåˆ™åœ¨ hash è¡¨å†…æŒ‰æ³Šæ¾åˆ†å¸ƒï¼Œåœ¨<strong>è´Ÿè½½å› å­ 0.75</strong> çš„æƒ…å†µä¸‹ï¼Œé•¿åº¦è¶…è¿‡ 8 çš„é“¾è¡¨å‡ºç°æ¦‚ç‡æ˜¯ 0.00000006ï¼Œ<strong>æ ‘åŒ–é˜ˆå€¼é€‰æ‹© 8</strong> å°±æ˜¯ä¸ºäº†è®©æ ‘åŒ–å‡ ç‡è¶³å¤Ÿå°ï¼ˆè´Ÿè½½å› å­ï¼šå½“å“ˆå¸Œè¡¨ä¸­å…ƒç´ æ•°é‡è¶…è¿‡ <strong>æ€»é•¿åº¦*è´Ÿè½½å› å­</strong> è¿›è¡Œæ‰©å®¹ï¼Œ<strong>æ‰©å®¹æ•°ç»„é•¿åº¦ä¸ºåŸæ¥çš„2å€</strong>ï¼‰</li>
</ul>
<h3 id="æ ‘åŒ–è§„åˆ™"><a href="#æ ‘åŒ–è§„åˆ™" class="headerlink" title="æ ‘åŒ–è§„åˆ™"></a><strong>æ ‘åŒ–è§„åˆ™</strong></h3><ul>
<li>å½“é“¾è¡¨é•¿åº¦è¶…è¿‡<strong>æ ‘åŒ–é˜ˆå€¼ 8</strong> æ—¶ï¼Œå…ˆå°è¯•æ‰©å®¹æ¥å‡å°‘é“¾è¡¨é•¿åº¦ï¼Œå¦‚æœæ•°ç»„å®¹é‡å·²ç»**&gt;&#x3D;64**ï¼Œæ‰ä¼šè¿›è¡Œæ ‘åŒ–</li>
</ul>
<h3 id="é€€åŒ–è§„åˆ™"><a href="#é€€åŒ–è§„åˆ™" class="headerlink" title="é€€åŒ–è§„åˆ™"></a><strong>é€€åŒ–è§„åˆ™</strong></h3><ul>
<li>æƒ…å†µ1ï¼šåœ¨æ‰©å®¹æ—¶æˆ–è€…æ‹†åˆ†æ ‘æ—¶ï¼Œæ ‘å…ƒç´ ä¸ªæ•° <strong>&lt;&#x3D; 6</strong> åˆ™ä¼šé€€åŒ–é“¾è¡¨</li>
<li>æƒ…å†µ2ï¼šremove æ ‘èŠ‚ç‚¹æ—¶ï¼Œè‹¥ rootã€root.leftã€root.rightã€root.left.left æœ‰ä¸€ä¸ªä¸º null ï¼Œä¹Ÿä¼šé€€åŒ–ä¸ºé“¾è¡¨</li>
</ul>
<h2 id="ğŸç´¢å¼•è®¡ç®—"><a href="#ğŸç´¢å¼•è®¡ç®—" class="headerlink" title="ğŸç´¢å¼•è®¡ç®—"></a>ğŸç´¢å¼•è®¡ç®—</h2><h3 id="ç´¢å¼•è®¡ç®—æ–¹æ³•"><a href="#ç´¢å¼•è®¡ç®—æ–¹æ³•" class="headerlink" title="ç´¢å¼•è®¡ç®—æ–¹æ³•"></a><strong>ç´¢å¼•è®¡ç®—æ–¹æ³•</strong></h3><ol>
<li>é¦–å…ˆï¼Œè®¡ç®—å¯¹è±¡çš„ hashCode</li>
<li>å†è¿›è¡Œè°ƒç”¨ HashMap çš„ hash() æ–¹æ³•è¿›è¡Œ<strong>äºŒæ¬¡å“ˆå¸Œ</strong></li>
</ol>
<p>â€‹		äºŒæ¬¡ hash() æ˜¯ä¸ºäº†ç»¼åˆé«˜ä½æ•°æ®ï¼Œè®©å“ˆå¸Œåˆ†å¸ƒæ›´ä¸ºå‡åŒ€</p>
<p>   3.æœ€å <strong>&amp; (capacity â€“ 1)</strong> å¾—åˆ°ç´¢å¼•</p>
<h3 id="hashCode"><a href="#hashCode" class="headerlink" title="hashCode()"></a>hashCode()</h3><h4 id="Object-hashCode"><a href="#Object-hashCode" class="headerlink" title="Object.hashCode()"></a>Object.hashCode()</h4><ul>
<li>Object çš„ hashCode æ–¹æ³•é»˜è®¤æ˜¯ç”Ÿæˆéšæœºæ•°ä½œä¸º hash å€¼ï¼ˆä¼šç¼“å­˜åœ¨å¯¹è±¡å¤´å½“ä¸­ï¼‰</li>
<li>ç¼ºç‚¹æ˜¯åŒ…å«ç›¸åŒ<strong>å€¼</strong>çš„ä¸åŒå¯¹è±¡ï¼Œä»–ä»¬çš„ hashCode ä¸ä¸€æ ·ï¼Œä¸èƒ½å¤Ÿç”¨ hash å€¼æ¥åæ˜ å¯¹è±¡çš„<strong>å€¼</strong>ç‰¹å¾ï¼Œå› æ­¤è¯¸å¤šå­ç±»éƒ½ä¼šé‡å†™ hashCode æ–¹æ³•</li>
</ul>
<h4 id="String-hashCode"><a href="#String-hashCode" class="headerlink" title="String.hashCode()"></a>String.hashCode()</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="string">&quot;bac&quot;</span>;                     </span><br><span class="line">    <span class="type">String</span> <span class="variable">s2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;abc&quot;</span>);         </span><br><span class="line"></span><br><span class="line">    System.out.println(s1.hashCode());</span><br><span class="line">    System.out.println(s2.hashCode());</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åŸåˆ™ï¼šå€¼ç›¸åŒçš„å­—ç¬¦ä¸²ç”Ÿæˆç›¸åŒçš„ hash ç , å°½é‡è®©å€¼ä¸åŒçš„å­—ç¬¦ä¸²ç”Ÿæˆä¸åŒçš„ hash ç </span></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    å¯¹äº abc  a * 100 + b * 10 + c</span></span><br><span class="line"><span class="comment">    å¯¹äº bac  b * 100 + a * 10 + c</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">hash</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; s1.length(); i++) &#123;</span><br><span class="line">        <span class="type">char</span> <span class="variable">c</span> <span class="operator">=</span> s1.charAt(i);</span><br><span class="line">        System.out.println((<span class="type">int</span>) c);</span><br><span class="line">        <span class="comment">// (a*10 + b)*10 + c  ==&gt;  a*100 + b*10 + c  2^5</span></span><br><span class="line">        hash = (hash &lt;&lt; <span class="number">5</span>) - hash + c;</span><br><span class="line">        <span class="comment">// ç»éªŒè¡¨æ˜å¦‚æœæ¯æ¬¡ä¹˜çš„æ˜¯è¾ƒå¤§è´¨æ•°ï¼Œå¯ä»¥æœ‰æ›´å¥½åœ°é™ä½ hash å†²çªï¼Œå› æ­¤æ”¹ã€ä¹˜ 10ã€‘ä¸ºã€ä¹˜ 31ã€‘</span></span><br><span class="line">		<span class="comment">// ã€ä¹˜ 31ã€‘å¯ä»¥ç­‰ä»·ä¸ºã€ä¹˜ 32 - hashã€‘ï¼Œè¿›ä¸€æ­¥å¯ä»¥è½¬ä¸ºæ›´é«˜æ•ˆåœ°ã€å·¦ç§»5ä½ - hashã€‘</span></span><br><span class="line">    &#125;</span><br><span class="line">    System.out.println(hash);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="æ•°ç»„å®¹é‡ä¸ºä½•æ˜¯-2-çš„-n-æ¬¡å¹‚"><a href="#æ•°ç»„å®¹é‡ä¸ºä½•æ˜¯-2-çš„-n-æ¬¡å¹‚" class="headerlink" title="æ•°ç»„å®¹é‡ä¸ºä½•æ˜¯ 2 çš„ n æ¬¡å¹‚"></a><strong>æ•°ç»„å®¹é‡ä¸ºä½•æ˜¯ 2 çš„ n æ¬¡å¹‚</strong></h3><ol>
<li>è®¡ç®—ç´¢å¼•æ—¶æ•ˆç‡æ›´é«˜ï¼šå¦‚æœæ˜¯ 2 çš„ n æ¬¡å¹‚å¯ä»¥<strong>ä½¿ç”¨ä½ä¸è¿ç®—ä»£æ›¿å–æ¨¡</strong></li>
<li>æ‰©å®¹æ—¶é‡æ–°è®¡ç®—ç´¢å¼•æ•ˆç‡æ›´é«˜ï¼š hash &amp; oldCap &#x3D;&#x3D; 0 çš„å…ƒç´ ç•™åœ¨åŸæ¥ä½ç½® ï¼Œå¦åˆ™æ–°ä½ç½® &#x3D; æ—§ä½ç½® + oldCap</li>
</ol>
<h3 id="æ³¨æ„"><a href="#æ³¨æ„" class="headerlink" title="æ³¨æ„"></a><strong>æ³¨æ„</strong></h3><ul>
<li>äºŒæ¬¡ hash æ˜¯ä¸ºäº†é…åˆ <strong>å®¹é‡æ˜¯ 2 çš„ n æ¬¡å¹‚</strong> è¿™ä¸€è®¾è®¡å‰æï¼Œå¦‚æœ hash è¡¨çš„å®¹é‡ä¸æ˜¯ 2 çš„ n æ¬¡å¹‚ï¼Œåˆ™ä¸å¿…äºŒæ¬¡ hash</li>
<li><strong>å®¹é‡æ˜¯ 2 çš„ n æ¬¡å¹‚</strong> è¿™ä¸€è®¾è®¡è®¡ç®—ç´¢å¼•æ•ˆç‡æ›´å¥½ï¼Œä½† hash çš„åˆ†æ•£æ€§å°±ä¸å¥½ï¼Œéœ€è¦äºŒæ¬¡ hash æ¥ä½œä¸ºè¡¥å¿ï¼Œæ²¡æœ‰é‡‡ç”¨è¿™ä¸€è®¾è®¡çš„å…¸å‹ä¾‹å­æ˜¯ HashTable</li>
</ul>
<h2 id="ğŸkeyçš„è®¾è®¡è¦æ±‚"><a href="#ğŸkeyçš„è®¾è®¡è¦æ±‚" class="headerlink" title="ğŸkeyçš„è®¾è®¡è¦æ±‚"></a>ğŸkeyçš„è®¾è®¡è¦æ±‚</h2><ol>
<li>HashMap çš„ key <strong>å¯ä»¥ä¸º null</strong>ï¼Œä½† Map çš„å…¶ä»–å®ç°åˆ™ä¸ç„¶</li>
<li>ä½œä¸º key çš„å¯¹è±¡ï¼Œå¿…é¡»å®ç° hashCode å’Œ equalsï¼Œå¹¶ä¸” key çš„å†…å®¹<strong>ä¸èƒ½ä¿®æ”¹</strong>ï¼ˆä¸å¯å˜ï¼‰ï¼›å¦‚æœ key å¯å˜ï¼Œä¾‹å¦‚ä¿®æ”¹äº† å¯¹è±¡çš„ageå±æ€§ï¼Œä¼šå¯¼è‡´å†æ¬¡æŸ¥è¯¢æ—¶æŸ¥è¯¢ä¸åˆ°</li>
<li>key çš„ hashCode åº”è¯¥æœ‰è‰¯å¥½çš„æ•£åˆ—æ€§</li>
</ol>
<h2 id="ğŸHashMapå®ç°ç¤ºä¾‹"><a href="#ğŸHashMapå®ç°ç¤ºä¾‹" class="headerlink" title="ğŸHashMapå®ç°ç¤ºä¾‹"></a>ğŸHashMapå®ç°ç¤ºä¾‹</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HashTable</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// èŠ‚ç‚¹ç±»</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">Entry</span> &#123;</span><br><span class="line">        <span class="type">int</span> hash; <span class="comment">// å“ˆå¸Œç </span></span><br><span class="line">        Object key; <span class="comment">// é”®</span></span><br><span class="line">        Object value; <span class="comment">// å€¼</span></span><br><span class="line">        Entry next;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="title function_">Entry</span><span class="params">(<span class="type">int</span> hash, Object key, Object value)</span> &#123;</span><br><span class="line">            <span class="built_in">this</span>.hash = hash;</span><br><span class="line">            <span class="built_in">this</span>.key = key;</span><br><span class="line">            <span class="built_in">this</span>.value = value;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Entry[] table = <span class="keyword">new</span> <span class="title class_">Entry</span>[<span class="number">16</span>]; <span class="comment">// åˆå§‹å®¹é‡16(2çš„næ¬¡å¹‚)</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">size</span> <span class="operator">=</span> <span class="number">0</span>; <span class="comment">// å…ƒç´ ä¸ªæ•°</span></span><br><span class="line">    <span class="type">float</span> <span class="variable">loadFactor</span> <span class="operator">=</span> <span class="number">0.75f</span>; <span class="comment">// 12 é˜ˆå€¼</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">threshold</span> <span class="operator">=</span> (<span class="type">int</span>) (loadFactor * table.length);</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* æ±‚æ¨¡è¿ç®—æ›¿æ¢ä¸ºä½è¿ç®—</span></span><br><span class="line"><span class="comment">        - å‰æï¼šæ•°ç»„é•¿åº¦æ˜¯ 2 çš„ n æ¬¡æ–¹</span></span><br><span class="line"><span class="comment">        - hash % æ•°ç»„é•¿åº¦ ç­‰ä»·äº hash &amp; (æ•°ç»„é•¿åº¦-1)</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ ¹æ® hash ç è·å– value</span></span><br><span class="line">    Object <span class="title function_">get</span><span class="params">(<span class="type">int</span> hash, Object key)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">idx</span> <span class="operator">=</span> hash &amp; (table.length - <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">if</span> (table[idx] == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">Entry</span> <span class="variable">p</span> <span class="operator">=</span> table[idx];</span><br><span class="line">        <span class="keyword">while</span> (p != <span class="literal">null</span>) &#123; <span class="comment">// éå†é“¾è¡¨</span></span><br><span class="line">            <span class="keyword">if</span> (p.key.equals(key)) &#123;</span><br><span class="line">                <span class="keyword">return</span> p.value;</span><br><span class="line">            &#125;</span><br><span class="line">            p = p.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å‘ hash è¡¨å­˜å…¥æ–° key valueï¼Œå¦‚æœ key é‡å¤ï¼Œåˆ™æ›´æ–° value</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">put</span><span class="params">(<span class="type">int</span> hash, Object key, Object value)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">idx</span> <span class="operator">=</span> hash &amp; (table.length - <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">if</span> (table[idx] == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="comment">// 1. idx å¤„æœ‰ç©ºä½, ç›´æ¥æ–°å¢</span></span><br><span class="line">            table[idx] = <span class="keyword">new</span> <span class="title class_">Entry</span>(hash, key, value);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// 2. idx å¤„æ— ç©ºä½, æ²¿é“¾è¡¨æŸ¥æ‰¾ æœ‰é‡å¤keyæ›´æ–°ï¼Œå¦åˆ™æ–°å¢</span></span><br><span class="line">            <span class="type">Entry</span> <span class="variable">p</span> <span class="operator">=</span> table[idx];</span><br><span class="line">            <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (p.key.equals(key)) &#123;</span><br><span class="line">                    p.value = value; <span class="comment">// æ›´æ–°</span></span><br><span class="line">                    <span class="keyword">return</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (p.next == <span class="literal">null</span>) &#123;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                p = p.next;</span><br><span class="line">            &#125;</span><br><span class="line">            p.next = <span class="keyword">new</span> <span class="title class_">Entry</span>(hash, key, value); <span class="comment">// æ–°å¢</span></span><br><span class="line">        &#125;</span><br><span class="line">        size++;</span><br><span class="line">        <span class="keyword">if</span> (size &gt; threshold) &#123;</span><br><span class="line">            resize();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">	<span class="comment">// æ•°ç»„æ‰©å®¹2å€</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">resize</span><span class="params">()</span> &#123;</span><br><span class="line">        Entry[] newTable = <span class="keyword">new</span> <span class="title class_">Entry</span>[table.length &lt;&lt; <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; table.length; i++) &#123;</span><br><span class="line">            <span class="type">Entry</span> <span class="variable">p</span> <span class="operator">=</span> table[i]; <span class="comment">// æ‹¿åˆ°æ¯ä¸ªé“¾è¡¨å¤´</span></span><br><span class="line">            <span class="keyword">if</span> (p != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="comment">/*</span></span><br><span class="line"><span class="comment">                æ‹†åˆ†é“¾è¡¨ï¼Œç§»åŠ¨åˆ°æ–°æ•°ç»„ï¼Œæ‹†åˆ†è§„å¾‹ï¼ˆå‰æï¼šæ•°ç»„é•¿åº¦ä¸º2çš„næ¬¡å¹‚ï¼‰</span></span><br><span class="line"><span class="comment">                * ä¸€ä¸ªé“¾è¡¨æœ€å¤šæ‹†æˆä¸¤ä¸ª</span></span><br><span class="line"><span class="comment">                * hash &amp; table.length == 0 çš„ä¸€ç»„</span></span><br><span class="line"><span class="comment">                * hash &amp; table.length != 0 çš„ä¸€ç»„</span></span><br><span class="line"><span class="comment">                                          p</span></span><br><span class="line"><span class="comment">                0-&gt;8-&gt;16-&gt;24-&gt;32-&gt;40-&gt;48-&gt;null</span></span><br><span class="line"><span class="comment">                            a</span></span><br><span class="line"><span class="comment">                0-&gt;16-&gt;32-&gt;48-&gt;null</span></span><br><span class="line"><span class="comment">                        b</span></span><br><span class="line"><span class="comment">                8-&gt;24-&gt;40-&gt;null</span></span><br><span class="line"><span class="comment">             */</span></span><br><span class="line">                <span class="type">Entry</span> <span class="variable">a</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">                <span class="type">Entry</span> <span class="variable">b</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">                <span class="type">Entry</span> <span class="variable">aHead</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">                <span class="type">Entry</span> <span class="variable">bHead</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">                <span class="keyword">while</span> (p != <span class="literal">null</span>) &#123;</span><br><span class="line">                    <span class="keyword">if</span> ((p.hash &amp; table.length) == <span class="number">0</span>) &#123;</span><br><span class="line">                        <span class="keyword">if</span> (a != <span class="literal">null</span>) &#123;</span><br><span class="line">                            a.next = p;</span><br><span class="line">                        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                            aHead = p;</span><br><span class="line">                        &#125;</span><br><span class="line">                        a = p; <span class="comment">// åˆ†é…åˆ°a</span></span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        <span class="keyword">if</span> (b != <span class="literal">null</span>) &#123;</span><br><span class="line">                            b.next = p;</span><br><span class="line">                        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                            bHead = p;</span><br><span class="line">                        &#125;</span><br><span class="line">                        b = p; <span class="comment">// åˆ†é…åˆ°b</span></span><br><span class="line">                    &#125;</span><br><span class="line">                    p = p.next;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// è§„å¾‹ï¼š a é“¾è¡¨ä¿æŒç´¢å¼•ä½ç½®ä¸å˜ï¼Œb é“¾è¡¨ç´¢å¼•ä½ç½®+table.length</span></span><br><span class="line">                <span class="keyword">if</span> (a != <span class="literal">null</span>) &#123;</span><br><span class="line">                    a.next = <span class="literal">null</span>;</span><br><span class="line">                    newTable[i] = aHead;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (b != <span class="literal">null</span>) &#123;</span><br><span class="line">                    b.next = <span class="literal">null</span>;</span><br><span class="line">                    newTable[i + table.length] = bHead;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        table = newTable;</span><br><span class="line">        threshold = (<span class="type">int</span>) (loadFactor * table.length);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ ¹æ® hash ç åˆ é™¤ï¼Œè¿”å›åˆ é™¤çš„ value</span></span><br><span class="line">    Object <span class="title function_">remove</span><span class="params">(<span class="type">int</span> hash, Object key)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">idx</span> <span class="operator">=</span> hash &amp; (table.length - <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">if</span> (table[idx] == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">Entry</span> <span class="variable">p</span> <span class="operator">=</span> table[idx];</span><br><span class="line">        <span class="type">Entry</span> <span class="variable">prev</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">while</span> (p != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (p.key.equals(key)) &#123;</span><br><span class="line">                <span class="comment">// æ‰¾åˆ°äº†, åˆ é™¤</span></span><br><span class="line">                <span class="keyword">if</span> (prev == <span class="literal">null</span>) &#123; <span class="comment">// é“¾è¡¨å¤´</span></span><br><span class="line">                    table[idx] = p.next;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123; <span class="comment">// éé“¾è¡¨å¤´</span></span><br><span class="line">                    prev.next = p.next;</span><br><span class="line">                &#125;</span><br><span class="line">                size--;</span><br><span class="line">                <span class="keyword">return</span> p.value;</span><br><span class="line">            &#125;</span><br><span class="line">            prev = p;</span><br><span class="line">            p = p.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="ğŸå…³é”®æ•°"><a href="#ğŸå…³é”®æ•°" class="headerlink" title="ğŸå…³é”®æ•°"></a>ğŸå…³é”®æ•°</h2><p>æ‰©å®¹å› å­ï¼š<strong>0.75</strong></p>
<p>æ ‘åŒ–é˜ˆå€¼ï¼šæ•°ç»„&gt;&#x3D;<strong>64</strong>,é“¾è¡¨&gt;&#x3D;<strong>8</strong></p>
<p>æ•°ç»„æ‰©å®¹å€æ•°ï¼š<strong>2</strong></p>
<p>æ•°ç»„é•¿åº¦æœ€ä½³ï¼š<strong>2çš„næ¬¡å¹‚</strong></p>
<h2 id="ğŸHashMapæ“ä½œ"><a href="#ğŸHashMapæ“ä½œ" class="headerlink" title="ğŸHashMapæ“ä½œ"></a>ğŸHashMapæ“ä½œ</h2><h3 id="éå†HashMap"><a href="#éå†HashMap" class="headerlink" title="éå†HashMap"></a>éå†HashMap</h3><h4 id="1-ForEachå¾ªç¯"><a href="#1-ForEachå¾ªç¯" class="headerlink" title="1.ForEachå¾ªç¯"></a>1.ForEachå¾ªç¯</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">    Map&lt;Integer, Integer&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;Integer, Integer&gt;();</span><br><span class="line">    map.put(<span class="number">1</span>, <span class="number">10</span>);</span><br><span class="line">    map.put(<span class="number">2</span>, <span class="number">20</span>);</span><br><span class="line"></span><br><span class="line">	<span class="comment">// Iterating entries using a For Each loop</span></span><br><span class="line">    <span class="keyword">for</span> (Map.Entry&lt;Integer, Integer&gt; entry : map.entrySet()) &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Key = &quot;</span> + entry.getKey() + <span class="string">&quot;, Value = &quot;</span> + entry.getValue());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="2-ForEachè¿­ä»£é”®å€¼å¯¹"><a href="#2-ForEachè¿­ä»£é”®å€¼å¯¹" class="headerlink" title="2.ForEachè¿­ä»£é”®å€¼å¯¹"></a>2.ForEachè¿­ä»£é”®å€¼å¯¹</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">    Map&lt;Integer, Integer&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;Integer, Integer&gt;();</span><br><span class="line">    map.put(<span class="number">1</span>, <span class="number">10</span>);</span><br><span class="line">    map.put(<span class="number">2</span>, <span class="number">20</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¿­ä»£é”®</span></span><br><span class="line">    <span class="keyword">for</span> (Integer key : map.keySet()) &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Key = &quot;</span> + key);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¿­ä»£å€¼</span></span><br><span class="line">    <span class="keyword">for</span> (Integer value : map.values()) &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Value = &quot;</span> + value);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="3-å¸¦æ³›å‹çš„è¿­ä»£å™¨"><a href="#3-å¸¦æ³›å‹çš„è¿­ä»£å™¨" class="headerlink" title="3.å¸¦æ³›å‹çš„è¿­ä»£å™¨"></a>3.å¸¦æ³›å‹çš„è¿­ä»£å™¨</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">    Map&lt;Integer, Integer&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;Integer, Integer&gt;();</span><br><span class="line">    map.put(<span class="number">1</span>, <span class="number">10</span>);</span><br><span class="line">    map.put(<span class="number">2</span>, <span class="number">20</span>);</span><br><span class="line"></span><br><span class="line">    Iterator&lt;Map.Entry&lt;Integer, Integer&gt;&gt; entries = map.entrySet().iterator();</span><br><span class="line">    <span class="keyword">while</span> (entries.hasNext()) &#123;</span><br><span class="line">        Map.Entry&lt;Integer, Integer&gt; entry = entries.next();</span><br><span class="line">        System.out.println(<span class="string">&quot;Key = &quot;</span> + entry.getKey() + <span class="string">&quot;, Value = &quot;</span> + entry.getValue());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="4-ä¸å¸¦æ³›å‹çš„è¿­ä»£å™¨"><a href="#4-ä¸å¸¦æ³›å‹çš„è¿­ä»£å™¨" class="headerlink" title="4.ä¸å¸¦æ³›å‹çš„è¿­ä»£å™¨"></a>4.ä¸å¸¦æ³›å‹çš„è¿­ä»£å™¨</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line"></span><br><span class="line">    <span class="type">Map</span> <span class="variable">map</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HashMap</span>();</span><br><span class="line">    map.put(<span class="number">1</span>, <span class="number">10</span>);</span><br><span class="line">    map.put(<span class="number">2</span>, <span class="number">20</span>);</span><br><span class="line"></span><br><span class="line">    Iterator&lt;Map.Entry&gt; entries = map.entrySet().iterator();</span><br><span class="line">    <span class="keyword">while</span> (entries.hasNext()) &#123;</span><br><span class="line">        Map.<span class="type">Entry</span> <span class="variable">entry</span> <span class="operator">=</span> (Map.Entry) entries.next();</span><br><span class="line">        <span class="type">Integer</span> <span class="variable">key</span> <span class="operator">=</span> (Integer) entry.getKey();</span><br><span class="line">        <span class="type">Integer</span> <span class="variable">value</span> <span class="operator">=</span> (Integer) entry.getValue();</span><br><span class="line">        System.out.println(<span class="string">&quot;Key = &quot;</span> + key + <span class="string">&quot;, Value = &quot;</span> + value);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="5-Java8-Lambdaè¡¨è¾¾å¼"><a href="#5-Java8-Lambdaè¡¨è¾¾å¼" class="headerlink" title="5.Java8 Lambdaè¡¨è¾¾å¼"></a>5.Java8 Lambdaè¡¨è¾¾å¼</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line"></span><br><span class="line">    Map&lt;Integer, Integer&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;Integer, Integer&gt;();</span><br><span class="line">    map.put(<span class="number">1</span>, <span class="number">10</span>);</span><br><span class="line">    map.put(<span class="number">2</span>, <span class="number">20</span>);</span><br><span class="line">    map.forEach((k, v) -&gt; System.out.println(<span class="string">&quot;key: &quot;</span> + k + <span class="string">&quot; value:&quot;</span> + v));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="æ’åºHashMap"><a href="#æ’åºHashMap" class="headerlink" title="æ’åºHashMap"></a>æ’åºHashMap</h3><h4 id="1-ä½¿ç”¨TreeMap"><a href="#1-ä½¿ç”¨TreeMap" class="headerlink" title="1.ä½¿ç”¨TreeMap"></a>1.ä½¿ç”¨TreeMap</h4><blockquote>
<p>å®ç°TreeMapçš„é»˜è®¤é€»è¾‘æ˜¯æœ‰åºçš„ï¼Œæ’å…¥åˆ°TreeMapçš„æ•°æ®ä¼šæŒ‰ç…§Keyæ’åº</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">TreeMap&lt;String, Integer&gt; sorted = <span class="keyword">new</span> <span class="title class_">TreeMap</span>&lt;&gt;(map);</span><br><span class="line">System.out.println(sorted);</span><br></pre></td></tr></table></figure>

<h4 id="2-ä½¿ç”¨TreeSet"><a href="#2-ä½¿ç”¨TreeSet" class="headerlink" title="2.ä½¿ç”¨TreeSet"></a>2.ä½¿ç”¨TreeSet</h4><blockquote>
<p>å»é‡åŠŸèƒ½</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SortedSet&lt;Integer&gt;  valueSorted = <span class="keyword">new</span> <span class="title class_">TreeSet</span>&lt;&gt;(map.values());</span><br><span class="line">æˆ–è€…</span><br><span class="line">SortedSet&lt;String&gt; keySorted = <span class="keyword">new</span> <span class="title class_">TreeSet</span>&lt;&gt;(map.keySet());</span><br></pre></td></tr></table></figure>

<h4 id="3-ä½¿ç”¨ArrayList"><a href="#3-ä½¿ç”¨ArrayList" class="headerlink" title="3.ä½¿ç”¨ArrayList"></a>3.ä½¿ç”¨ArrayList</h4><blockquote>
<p>ArrayListåªèƒ½æŒ‰ç…§Keyæˆ–è€…Valueæ’åºï¼Œä»…æ’åºkeyæˆ–è€…value</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">List&lt;String&gt; sorted = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(map.keySet());</span><br><span class="line">Collections.sort(sorted);</span><br><span class="line"> </span><br><span class="line">List&lt;String&gt; sorted = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(map.values());</span><br><span class="line">Collections.sort(sorted);</span><br></pre></td></tr></table></figure>

<h4 id="4-ä½¿ç”¨Lambdaså’ŒStreams"><a href="#4-ä½¿ç”¨Lambdaså’ŒStreams" class="headerlink" title="4.ä½¿ç”¨Lambdaså’ŒStreams"></a>4.ä½¿ç”¨Lambdaså’ŒStreams</h4><h5 id="å‰ç½®å‡†å¤‡"><a href="#å‰ç½®å‡†å¤‡" class="headerlink" title="å‰ç½®å‡†å¤‡"></a>å‰ç½®å‡†å¤‡</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span> &#123;</span><br><span class="line">     </span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">     </span><br><span class="line">    Student(Integer id, String name) &#123;</span><br><span class="line">        <span class="built_in">this</span>.id = id;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">     </span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;[id=&quot;</span>+id + <span class="string">&quot;, name=&quot;</span> + name + <span class="string">&quot;]&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">     </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">HashMap&lt;Integer, Student&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">  </span><br><span class="line">map.put(<span class="number">1003</span>, <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="number">1003</span>, <span class="string">&quot;Sam&quot;</span>));</span><br><span class="line">map.put(<span class="number">1005</span>, <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="number">1005</span>, <span class="string">&quot;Joseph&quot;</span>));</span><br><span class="line">map.put(<span class="number">1001</span>, <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="number">1001</span>, <span class="string">&quot;Kate&quot;</span>));</span><br><span class="line">map.put(<span class="number">1002</span>, <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="number">1002</span>, <span class="string">&quot;Miranda&quot;</span>));</span><br><span class="line">map.put(<span class="number">1004</span>, <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="number">1004</span>, <span class="string">&quot;Peter&quot;</span>));</span><br></pre></td></tr></table></figure>

<h5 id="æ ¹æ®keyæ’åº"><a href="#æ ¹æ®keyæ’åº" class="headerlink" title="æ ¹æ®keyæ’åº"></a>æ ¹æ®keyæ’åº</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Map&lt;Integer, Student&gt; sortedMap = map.entrySet()</span><br><span class="line">                                  .stream()</span><br><span class="line">                                  .sorted(Map.Entry.comparingByKey())</span><br><span class="line">                                  .collect(Collectors</span><br><span class="line">                                    .toMap(Map.Entry::getKey,</span><br><span class="line">                                           Map.Entry::getValue,</span><br><span class="line">                                           (e1, e2) -&gt; e1,</span><br><span class="line">                                           LinkedHashMap::<span class="keyword">new</span>))</span><br><span class="line">    </span><br><span class="line"><span class="comment">// ç»“æœ</span></span><br><span class="line">&#123;<span class="number">1001</span>=[id=<span class="number">1001</span>, name=Kate], <span class="number">1002</span>=[id=<span class="number">1002</span>, name=Miranda], <span class="number">1003</span>=[id=<span class="number">1003</span>, name=Sam], <span class="number">1004</span>=[id=<span class="number">1004</span>, name=Peter], <span class="number">1005</span>=[id=<span class="number">1005</span>, name=Joseph]&#125;</span><br></pre></td></tr></table></figure>

<h5 id="æ ¹æ®valueæ’åº"><a href="#æ ¹æ®valueæ’åº" class="headerlink" title="æ ¹æ®valueæ’åº"></a>æ ¹æ®valueæ’åº</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Map&lt;Integer, Student&gt; sortedMap = map.entrySet()</span><br><span class="line">              .stream()</span><br><span class="line">              .sorted(Map.Entry.comparingByValue())</span><br><span class="line">               .collect(Collectors</span><br><span class="line">                          .toMap(Map.Entry::getKey,</span><br><span class="line">                                 Map.Entry::getValue,</span><br><span class="line">                                 (e1, e2) -&gt; e1,</span><br><span class="line">                                 LinkedHashMap::<span class="keyword">new</span>));</span><br><span class="line"><span class="comment">// ç»“æœ</span></span><br><span class="line">&#123;<span class="number">1005</span>=[id=<span class="number">1005</span>, name=Joseph], <span class="number">1001</span>=[id=<span class="number">1001</span>, name=Kate], <span class="number">1002</span>=[id=<span class="number">1002</span>, name=Miranda], <span class="number">1004</span>=[id=<span class="number">1004</span>, name=Peter], <span class="number">1003</span>=[id=<span class="number">1003</span>, name=Sam]&#125;</span><br></pre></td></tr></table></figure>

<p>æ­¤æ—¶å¯¹è±¡éœ€è¦å®ç°æ¯”è¾ƒå™¨æ¥å£</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span> <span class="keyword">implements</span> <span class="title class_">Comparable</span>&lt;Student&gt;&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    Student(Integer id, String name) &#123;</span><br><span class="line">        <span class="built_in">this</span>.id = id;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;[id=&quot;</span>+id + <span class="string">&quot;, name=&quot;</span> + name + <span class="string">&quot;]&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compareTo</span><span class="params">(Student o)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.name.compareTo(o.name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="é€†åº"><a href="#é€†åº" class="headerlink" title="é€†åº"></a>é€†åº</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Map&lt;Integer, Student&gt; sortedMap = map.entrySet()</span><br><span class="line">              .stream()</span><br><span class="line">              .sorted(Collections.reverseOrder(Map.Entry.comparingByKey()))</span><br><span class="line">               .collect(Collectors</span><br><span class="line">                          .toMap(Map.Entry::getKey,</span><br><span class="line">                                 Map.Entry::getValue,</span><br><span class="line">                                 (e1, e2) -&gt; e1,</span><br><span class="line">                                 LinkedHashMap::<span class="keyword">new</span>));</span><br><span class="line"><span class="comment">// ç»“æœ</span></span><br><span class="line">&#123;<span class="number">1005</span>=[id=<span class="number">1005</span>, name=Joseph], <span class="number">1004</span>=[id=<span class="number">1004</span>, name=Peter], <span class="number">1003</span>=[id=<span class="number">1003</span>, name=Sam], <span class="number">1002</span>=[id=<span class="number">1002</span>, name=Miranda], <span class="number">1001</span>=[id=<span class="number">1001</span>, name=Kate]&#125;</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/08/16/HashMap/" data-id="clq4m8c200010bc5s97jw0phx" data-title="HashMap" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Java%E5%9F%BA%E7%A1%80/" rel="tag">JavaåŸºç¡€</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" rel="tag">æ•°æ®ç»“æ„</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2023/08/19/%E4%BA%8C%E5%8F%89%E6%A0%91/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          äºŒå‰æ ‘
        
      </div>
    </a>
  
  
    <a href="/2023/08/10/List/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">List</div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/JVM/">JVM</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java%E5%9F%BA%E7%A1%80/">JavaåŸºç¡€</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java%E5%B9%B6%E5%8F%91/">Javaå¹¶å‘</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/MySQL/">MySQL</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Redis/">Redis</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/">Spring</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%88%86%E5%B8%83%E5%BC%8F/">åˆ†å¸ƒå¼</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">æ•°æ®ç»“æ„</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%AE%97%E6%B3%95/">ç®—æ³•</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/JVM/" rel="tag">JVM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java%E5%9F%BA%E7%A1%80/" rel="tag">JavaåŸºç¡€</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java%E5%B9%B6%E5%8F%91/" rel="tag">Javaå¹¶å‘</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MySQL/" rel="tag">MySQL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Redis/" rel="tag">Redis</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Spring/" rel="tag">Spring</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SpringBoot/" rel="tag">SpringBoot</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SpringMVC/" rel="tag">SpringMVC</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F/" rel="tag">åˆ†å¸ƒå¼</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" rel="tag">æ•°æ®ç»“æ„</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%AE%97%E6%B3%95/" rel="tag">ç®—æ³•</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/JVM/" style="font-size: 13.33px;">JVM</a> <a href="/tags/Java%E5%9F%BA%E7%A1%80/" style="font-size: 16.67px;">JavaåŸºç¡€</a> <a href="/tags/Java%E5%B9%B6%E5%8F%91/" style="font-size: 20px;">Javaå¹¶å‘</a> <a href="/tags/MySQL/" style="font-size: 16.67px;">MySQL</a> <a href="/tags/Redis/" style="font-size: 10px;">Redis</a> <a href="/tags/Spring/" style="font-size: 18.33px;">Spring</a> <a href="/tags/SpringBoot/" style="font-size: 11.67px;">SpringBoot</a> <a href="/tags/SpringMVC/" style="font-size: 11.67px;">SpringMVC</a> <a href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F/" style="font-size: 10px;">åˆ†å¸ƒå¼</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" style="font-size: 15px;">æ•°æ®ç»“æ„</a> <a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size: 11.67px;">ç®—æ³•</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/12/">December 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/11/">November 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/10/">October 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/09/">September 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/08/">August 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/07/">July 2023</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2023/12/14/hello-world/">Hello World</a>
          </li>
        
          <li>
            <a href="/2023/12/05/JUC%E5%B7%A5%E5%85%B7/">JUCå·¥å…·</a>
          </li>
        
          <li>
            <a href="/2023/11/10/JUC%E6%97%A0%E9%94%81/">JUCæ— é”</a>
          </li>
        
          <li>
            <a href="/2023/11/06/ReentrantLock/">ReentrantLock</a>
          </li>
        
          <li>
            <a href="/2023/10/23/SpringCloud%E6%80%BB%E8%A7%88/">SpringCloudæ€»è§ˆ</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2023 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>